{"version":3,"file":"EventBus.js","sourceRoot":"","sources":["../../src/DEWorkbench/EventBus.ts"],"names":[],"mappings":"AAAA,WAAW,CAAA;AAQX,OAAO,EAAE,YAAY,EAAE,MAAO,QAAQ,CAAA;AAKtC,MAAM;IAGK,MAAM,KAAK,mBAAmB,KAAY,MAAM,CAAC,uCAAuC,CAAC,CAAC,CAAC;IAC3F,MAAM,KAAK,gBAAgB,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IACrF,MAAM,KAAK,gBAAgB,KAAY,MAAM,CAAC,kCAAkC,CAAC,CAAC,CAAC;IACnF,MAAM,KAAK,kBAAkB,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IACvF,MAAM,KAAK,kBAAkB,KAAY,MAAM,CAAC,sCAAsC,CAAC,CAAC,CAAC;IACzF,MAAM,KAAK,oBAAoB,KAAY,MAAM,CAAC,sCAAsC,CAAC,CAAC,CAAC;IAG3F,MAAM,KAAK,0BAA0B,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IAOtG;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,WAAW;QACd,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrB,QAAQ,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QACvC,CAAC;QACD,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;IAC7B,CAAC;IAEM,SAAS,CAAC,KAAY,EAAE,QAAQ;QACrC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,EAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAEM,OAAO,CAAC,KAAY,EAAE,GAAG,IAAI;QAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAEM,WAAW,CAAC,KAAY,EAAE,QAAQ;QACvC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;IACnD,CAAC;IAEM,EAAE,CAAC,KAAY,EAAE,QAAQ;QAC9B,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,EAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAEM,IAAI,CAAC,KAAY,EAAE,GAAG,IAAI;QAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;IACrC,CAAC;CAEJ","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\nimport { EventEmitter }  from 'events'\nimport { Cordova } from '../cordova/Cordova'\nimport { Logger } from '../logger/Logger'\n\n\nexport class EventBus {\n\n    // Project events\n    public static get EVT_PROJECT_CHANGED():string { return \"dewb.project.workspace.projectChanged\"; }\n    public static get EVT_PATH_CHANGED():string { return \"dewb.project.workspace.pathChanged\"; }\n    public static get EVT_PLUGIN_ADDED():string { return \"dewb.project.cordova.pluginAdded\"; }\n    public static get EVT_PLUGIN_REMOVED():string { return \"dewb.project.cordova.pluginRemoved\"; }\n    public static get EVT_PLATFORM_ADDED():string { return \"dewb.project.cordova.platformRemoved\"; }\n    public static get EVT_PLATFORM_REMOVED():string { return \"dewb.project.cordova.platformRemoved\"; }\n\n    // Workbench events\n    public static get EVT_WORKBENCH_PLUGIN_ADDED():string { return \"dewb.workbench.plugins.pluginAdded\"; }\n\n\n    private static instance: EventBus;\n    private _eventBus:any;\n    private eventEmitter:EventEmitter;\n\n    private constructor() {\n      this.eventEmitter = new EventEmitter();\n    }\n\n    static getInstance() {\n        if (!EventBus.instance) {\n            EventBus.instance = new EventBus();\n        }\n        return EventBus.instance;\n    }\n\n    public subscribe(topic:string, listener){\n      this.eventEmitter.on(topic,listener);\n    }\n\n    public publish(topic:string, ...args) {\n      this.eventEmitter.emit(topic,args);\n    }\n\n    public unsubscribe(topic:string, listener){\n      this.eventEmitter.removeListener(topic, listener)\n    }\n\n    public on(topic:string, listener){\n      this.eventEmitter.on(topic,listener);\n    }\n\n    public emit(topic:string, ...args) {\n      this.eventEmitter.emit(topic,args);\n    }\n\n}\n"]}