{"version":3,"file":"AppSignatureView.js","sourceRoot":"","sources":["../../../../src/views/ProjectSettings/signature/AppSignatureView.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\nimport {\n createText,\n createElement,\n insertElement,\n createGroupButtons,\n createButton,\n createIcon,\n createIconFromPath,\n attachEventFromObject,\n createTextEditor\n} from '../../../element/index';\n\nimport { EventEmitter }  from 'events'\nimport { ProjectManager } from '../../../DEWorkbench/ProjectManager'\nimport { Cordova, CordovaPlatform, CordovaPlugin } from '../../../cordova/Cordova'\nimport { Logger } from '../../../logger/Logger'\nimport { UIPluginsList } from '../../../ui-components/UIPluginsList'\nimport { UIStackedView } from '../../../ui-components/UIStackedView'\nimport { UITabbedView, UITabbedViewItem, UITabbedViewTabType } from '../../../ui-components/UITabbedView'\nimport { UIComponent, UIBaseComponent } from '../../../ui-components/UIComponent'\nimport { UICollapsiblePane } from  '../../../ui-components/UICollapsiblePane'\nimport { AbstractAppSignatureEditorCtrl, AppType } from './AbstractAppSignatureEditorCtrl'\nimport { IOSAppSignatureEditorCtrl } from './IOSAppSignatureEditorCtrl'\nimport { AndroidAppSignatureEditorCtrl } from './AndroidAppSignatureEditorCtrl'\nimport { UICommonsFactory, FormActionsOptions, FormActionType } from '../../../ui-components/UICommonsFactory'\nimport { IOSUtilities } from '../../../cordova/IOSUtilities'\n\nconst path = require('path');\nconst fs = require(\"fs\")\n\nexport class AppSignatureView extends UIBaseComponent {\n\n  private tabbedView: UITabbedView;\n  private stackedPage: UIStackedView;\n  private iosEditor:SignaturePlatformEditorCtrl;\n  private androidEditor:SignaturePlatformEditorCtrl;\n  private currentProjectPath:string;\n  private buildJson:Object;\n\n  constructor(){\n    super();\n    this.buildUI();\n  }\n\n  private buildUI(){\n\n    this.currentProjectPath = ProjectManager.getInstance().getCurrentProjectPath();\n\n    this.iosEditor = new class extends SignaturePlatformEditorCtrl {\n      protected createEditorCtrl(appType:AppType){\n        return new IOSAppSignatureEditorCtrl(appType);\n      }\n      protected createExtendedActions():HTMLElement {\n        let reloadButton = createElement('button',{\n          elements: [ createText('Reload Provisioning Profiles') ],\n          className: 'btn icon icon-repo-sync'\n        });\n        reloadButton.addEventListener('click',()=>{\n          this.reloadProvisioningProfiles();\n        })\n        return reloadButton;\n      }\n      protected async reloadProvisioningProfiles(){\n        let provFiles = await IOSUtilities.loadProvisioningProfiles();\n        let ctrl:any = this.debugEditCtrl;\n        ctrl.reloadProvisioningProfiles(provFiles);\n        ctrl = this.releaseEditCtrl;\n        ctrl.reloadProvisioningProfiles(provFiles);\n      }\n      protected prepareForEdit(){\n        super.prepareForEdit();\n        this.reloadProvisioningProfiles();\n      }\n    }().addEventListener('didChanged',(editorCtrl:SignaturePlatformEditorCtrl)=>{\n      this.writeBuildJson(editorCtrl.getBuildJson())\n    });\n\n    this.androidEditor = new class extends SignaturePlatformEditorCtrl {\n      protected createEditorCtrl(appType:AppType){\n        return new AndroidAppSignatureEditorCtrl(appType);\n      }\n    }().addEventListener('didChanged',(editorCtrl:SignaturePlatformEditorCtrl)=>{\n      this.writeBuildJson(editorCtrl.getBuildJson())\n    });\n\n    this.tabbedView = new UITabbedView().setTabType(UITabbedViewTabType.Horizontal);\n\n    this.tabbedView.addView(new UITabbedViewItem('ios',       'iOS',  this.iosEditor.element()));\n    this.tabbedView.addView(new UITabbedViewItem('android',   'Android',  this.androidEditor.element()));\n\n    this.stackedPage = new UIStackedView({\n                          titleIconClass: 'icon-shield'\n                        })\n                        .setTitle('App Signature')\n                        .setInnerView(this.tabbedView.element())\n                        .addHeaderClassName('de-workbench-stacked-view-header-section-thin');\n\n    this.mainElement = this.stackedPage.element();\n\n    this.reload();\n\n  }\n\n  protected updateUI(buildJson:any){\n    this.iosEditor.updateUI(buildJson)\n    this.androidEditor.updateUI(buildJson)\n  }\n\n  protected reload(){\n    this.buildJson = this.reloadBuildJson();\n    this.updateUI(this.buildJson);\n  }\n\n  protected getBuildJsonPath():string {\n    return path.join(this.currentProjectPath, \"build.json\")\n  }\n\n  protected defaultBuildJson(){\n      return {\n        \"ios\" : {\n          \"debug\" : {},\n          \"release\" : {}\n        },\n        \"android\" : {\n          \"debug\" : {},\n          \"release\" : {}\n        }\n      };\n  }\n\n  protected reloadBuildJson(){\n    let buildJsonPath = this.getBuildJsonPath()\n    var exists = fs.existsSync(buildJsonPath);\n    if (!exists){\n      let buildJson = this.defaultBuildJson();\n      this.writeBuildJson(buildJson);\n      return buildJson;\n    } else {\n      return JSON.parse(fs.readFileSync(buildJsonPath, 'utf8'));\n    }\n  }\n\n\n  protected writeBuildJson(buildJson:any){\n    if (!buildJson){\n      buildJson = this.buildJson;\n    }\n    var string = JSON.stringify(buildJson,null,'\\t');\n    fs.writeFile(this.getBuildJsonPath(),string,function(err) {\n      if(err) return console.error(err);\n        Logger.consoleLog('done');\n    })\n}\n\n  public destroy(){\n    this.tabbedView.destroy();\n    this.stackedPage.destroy();\n    this.iosEditor.destroy();\n    this.androidEditor.destroy();\n    super.destroy();\n  }\n\n}\n\nclass SignaturePlatformEditorCtrl extends UIBaseComponent {\n\n  protected debugEditCtrl:AbstractAppSignatureEditorCtrl;\n  protected releaseEditCtrl:AbstractAppSignatureEditorCtrl;\n  protected collapsiblePane:UICollapsiblePane;\n  protected buildJson:any;\n  protected events:EventEmitter;\n\n  constructor(){\n    super();\n    this.events = new EventEmitter();\n    this.initUI();\n    this.prepareForEdit();\n  }\n\n  initUI(){\n    this.debugEditCtrl = this.createEditorCtrl(AppType.Debug);\n    this.releaseEditCtrl = this.createEditorCtrl(AppType.Release);\n\n    this.collapsiblePane = new UICollapsiblePane()\n\n    this.collapsiblePane.addItem({\n      collapsed:false,\n      id: 'debug',\n      caption: \"Debug\",\n      subtle:\"\",\n      view: this.debugEditCtrl.element()\n    })\n    .addItem({\n      collapsed:false,\n      id: 'release',\n      caption: \"Release\",\n      view: this.releaseEditCtrl.element()\n    })\n\n\n    let actionButtonsOpt:FormActionsOptions = {\n      cancel : {\n        caption : 'Revert Changes'\n      },\n      commit : {\n        caption : 'Save Changes'\n      },\n      actionListener: (actionType:number)=>{\n        if (actionType===FormActionType.Cancel){\n          this.reload()\n        } else if (actionType===FormActionType.Commit){\n          this.saveChanges()\n        }\n      }\n    }\n    let actionButtonsContainer = UICommonsFactory.createFormActions(actionButtonsOpt)\n\n    let extendedActions = this.createExtendedActions();\n    if (extendedActions){\n        insertElement(actionButtonsContainer, extendedActions)\n    }\n\n    let container = createElement('div',{\n      elements: [this.collapsiblePane.element(), actionButtonsContainer],\n      className: 'de-workbench-appsignature-control-container'\n    })\n\n    this.mainElement = container;\n  }\n\n  protected prepareForEdit(){}\n\n  protected createExtendedActions():HTMLElement {\n    return null;\n  }\n\n  public reload(){\n    this.debugEditCtrl.reload();\n    this.releaseEditCtrl.reload();\n  }\n\n  public saveChanges(){\n    this.debugEditCtrl.saveChanges();\n    this.releaseEditCtrl.saveChanges();\n    //Logger.consoleLog(\"Build JSON:\", this.buildJson)\n    this.events.emit('didChanged', this);\n  }\n\n  protected createEditorCtrl(appType:AppType):AbstractAppSignatureEditorCtrl{\n    return null;\n  }\n\n  public destroy(){\n    this.events.removeAllListeners();\n    this.debugEditCtrl.destroy();\n    this.releaseEditCtrl.destroy();\n    this.events = null;\n    super.destroy();\n  }\n\n  public updateUI(buildJson:any){\n    this.buildJson = buildJson;\n    this.debugEditCtrl.setBuildJson(buildJson)\n    this.releaseEditCtrl.setBuildJson(buildJson)\n  }\n\n  public addEventListener(event:string,listener):SignaturePlatformEditorCtrl{\n    this.events.addListener(event, listener);\n    return this;\n  }\n\n  public getBuildJson(){\n    return this.buildJson;\n  }\n\n}\n"]}