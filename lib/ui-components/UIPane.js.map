{"version":3,"file":"UIPane.js","sourceRoot":"","sources":["../../src/ui-components/UIPane.ts"],"names":[],"mappings":"AAAA,WAAW,CAAA;AAQV,OAAO,EAEL,aAAa,EAQd,MAAM,kBAAkB,CAAC;AAE3B,OAAO,EAAE,YAAY,EAAE,MAAO,QAAQ,CAAA;AAGtC,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AAa3B,MAAM;IAEG,MAAM,KAAK,eAAe,KAAY,MAAM,CAAC,gBAAgB,CAAA,CAAC,CAAC;IAUtE,YAAY,OAAuB;QACjC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,YAAY,EAAE,CAAA;QACjC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEtD,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QAGZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEnC,IAAI,EAAE,GAAG,aAAa,CAAC,KAAK,EAAE;YAC1B,QAAQ,EAAE;gBACR,IAAI,CAAC,WAAW;aACjB;YACD,SAAS,EAAE,wBAAwB;SACtC,CAAC,CAAC;QAEH,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAClB,CAAC;IAES,QAAQ;QAEd,MAAM,CAAC,wBAAwB,CAAC,CAAA;IACpC,CAAC;IAEM,OAAO;IAEd,CAAC;IAEM,OAAO;QACZ,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IACtB,CAAC;IAEM,QAAQ,CAAC,KAAY;QAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAA;IAC3C,CAAC;IAED,IAAW,MAAM;QACf,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;IAC1B,CAAC;IAED,IAAW,OAAO;QAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAEM,MAAM,CAAC,UAAU,CAAC,KAAY;QACjC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;IACrB,CAAC;IAED,QAAQ;QACN,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAW,OAAO;QAChB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAEM,MAAM;QACX,MAAM,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACjC,CAAC;IAES,SAAS,CAAC,KAAK,EAAE,GAAG,MAAM;QAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;IAClC,CAAC;CAEF","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\n import {\n   createText,\n   createElement,\n   insertElement,\n   createGroupButtons,\n   createButton,\n   createIcon,\n   createIconFromPath,\n   attachEventFromObject,\n   createTextEditor\n } from '../element/index';\n\nimport { EventEmitter }  from 'events'\nimport { Logger } from '../logger/Logger'\n\nconst md5 = require('md5');\n\nexport interface PaneViewOptions {\n  id:string;\n  title:string;\n  location?:string;\n  userData?:any;\n  activatePane:boolean;\n  searchAllPanes:boolean;\n  getURI:Function;\n  getTitle:Function;\n}\n\nexport class UIPane {\n\n  public static get PANE_URI_PREFIX():string { return \"deworkbench://\" }\n\n  private domEl:HTMLElement;\n  protected mainElement:HTMLElement;\n  protected item: any;\n  protected atomTextEditor: any;\n  private _options:PaneViewOptions;\n  private _events:EventEmitter;\n  private _title:string;\n\n  constructor(options:PaneViewOptions){\n    this._options = options;\n    this._events = new EventEmitter()\n    this._title = this._options.getTitle();\n    console.log(\"UIPane creating for \", this._options.id);\n    // Initialize the UI\n    this.initUI();\n  }\n\n  private initUI(){\n\n    // Create the main UI\n    this.mainElement = this.createUI();\n\n    let el = createElement('div', {\n        elements: [\n          this.mainElement\n        ],\n        className: 'de-workbench-pane-view'\n    });\n\n    this.domEl = el;\n  }\n\n  protected createUI():HTMLElement {\n      // you need to subclass and override this method\n      throw (\"Invalid implementation\")\n  }\n\n  public didOpen(){\n    //nop, overridable\n  }\n\n  public destroy(){\n    this.mainElement.remove();\n    this.domEl.remove();\n  }\n\n  public setTitle(title:string){\n    this._title = title;\n    this.fireEvent('did-change-title', title)\n  }\n\n  public get paneId():string {\n    return this._options.id;\n  }\n\n  public get options():PaneViewOptions {\n    return this._options;\n  }\n\n  public static hashString(value:string):string {\n      return md5(value)\n  }\n\n  getTitle():string {\n    return this._title;\n  }\n\n  public get element():HTMLElement {\n    return this.domEl;\n  }\n\n  public getURI(){\n    return  this._options.getURI();\n  }\n\n  protected fireEvent(event, ...params){\n    this._events.emit(event, params)\n  }\n\n}\n"]}