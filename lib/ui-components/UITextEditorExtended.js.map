{"version":3,"file":"UITextEditorExtended.js","sourceRoot":"","sources":["../../src/ui-components/UITextEditorExtended.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n import {\n   createText,\n   createElement,\n   insertElement,\n   createGroupButtons,\n   createButton,\n   createIcon,\n   createIconFromPath,\n   attachEventFromObject,\n   createTextEditor\n } from '../element/index';\n\nimport { UIComponent, UIBaseComponent } from './UIComponent'\n\nexport class UITextEditorExtended extends UIBaseComponent {\n\n  private buttonCaption:string;\n  private buttonText:Text;\n  private buttonElement:HTMLElement;\n  private inputEl:HTMLElement;\n  private editor;\n  private buttonHandler;\n  private editorHandler;\n\n  constructor(){\n    super();\n    this.initUI();\n  }\n\n  private initUI(){\n    this.mainElement = createElement('div',{\n      elements : [],\n      className : 'de-workbench-textinput-extended'\n    })\n\n    this.inputEl = createElement('atom-text-editor',{\n    })\n    this.inputEl.classList.add(\"editor\");\n    this.inputEl.classList.add(\"mini\");\n    this.inputEl.classList.add(\"de-workbench-textinput-extended-editor\")\n    this.inputEl.classList.add('btn-group-xs');\n    this.inputEl.setAttribute('data-grammar','text plain null-grammar')\n    this.inputEl.setAttribute('mini','')\n    this.editor = this.inputEl['getModel']()\n\n    this.buttonText = createText('');\n    this.buttonElement = createElement('button',{\n      elements: [\n        this.buttonText\n      ],\n      className : 'btn'\n    })\n    this.buttonElement.classList.add('de-workbench-textinput-extended-btn')\n    insertElement(this.inputEl, this.buttonElement);\n\n    insertElement(this.mainElement, this.inputEl);\n  }\n\n  public setTextPlaceholder(placeholder:string):UITextEditorExtended {\n    this.editor.setPlaceholderText(placeholder);\n    return this;\n  }\n\n  public setButtonClassName(className:string):UITextEditorExtended {\n    this.buttonElement.classList.add(className)\n    return this;\n  }\n\n  public setButtonCaption(caption:string):UITextEditorExtended {\n    this.buttonCaption = caption;\n    this.buttonText.textContent = caption;\n    return this;\n  }\n\n  public addButtonHandler(handler):UITextEditorExtended {\n    this.buttonHandler = handler;\n    this.buttonElement.addEventListener('click',handler);\n    return this;\n  }\n\n  public addEditorHandler(handler):UITextEditorExtended {\n    this.editorHandler = handler;\n    this.inputEl.addEventListener('keyup', handler);\n    return this;\n  }\n\n  public getValue():string{\n    return this.editor.getText();\n  }\n\n  public getEditor(){\n    return this.editor;\n  }\n\n  public destroy(){\n    if (this.buttonHandler){\n      this.buttonElement.removeEventListener('click', this.buttonHandler);\n    }\n    if (this.editorHandler){\n      this.inputEl.removeEventListener('keyup', this.editorHandler);\n    }\n    super.destroy();\n  }\n\n\n\n\n}\n"]}