{"version":3,"file":"UIToolbar.js","sourceRoot":"","sources":["../../src/ui-components/UIToolbar.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n import {\n   createText,\n   createElement,\n   insertElement,\n   createGroupButtons,\n   createButton,\n   createIcon,\n   createIconFromPath,\n   attachEventFromObject,\n   createTextEditor,\n   createButtonSpacer\n } from '../element/index';\n\nimport { UIComponent, UIBaseComponent } from './UIComponent'\nconst { CompositeDisposable } = require('atom');\n\nexport class UIToolbarButton {\n  public id: string;\n  public caption: string;\n  public title: string;\n  public handler: Function;\n  public className: string = '';\n  public icon:string;\n  public isToggle:boolean = false;\n  public checked:boolean = false;\n  public withSpace:boolean = true;\n  public setId(id:string):UIToolbarButton { this.id = id; return this; }\n  public setCaption(caption:string):UIToolbarButton { this.caption = caption; return this; }\n  public setTitle(title:string):UIToolbarButton { this.title = title; return this; }\n  public setClassName(className:string):UIToolbarButton { this.className = className; return this; }\n  public setHandler(handler:Function):UIToolbarButton { this.handler = handler; return this; }\n  public setIcon(icon:string):UIToolbarButton { this.icon = icon; return this; }\n  public setToggle(toggle:boolean):UIToolbarButton { this.isToggle = toggle; return this; }\n  public setChecked(checked:boolean):UIToolbarButton { this.checked = checked; return this; }\n  public setWithSpace(withSpace:boolean):UIToolbarButton { this.withSpace = withSpace; return this; }\n}\n\nexport class UIToolbar extends UIBaseComponent {\n\n  private floatRightButtons:HTMLElement;\n  private subscriptions:any = new CompositeDisposable();\n\n  constructor(){\n    super();\n    this.initUI();\n  }\n\n  private initUI(){\n    this.floatRightButtons = createElement('div',{\n      elements : [\n      ],\n      className : 'de-workbench-uitoolbar-container-floatright'\n    });\n\n      this.mainElement = createElement('div',{\n        elements : [\n          this.floatRightButtons\n        ],\n        className : 'de-workbench-uitoolbar-container'\n      });\n  }\n\n  public addElementNoSpace(element:HTMLElement):UIToolbar {\n    insertElement(this.mainElement, element);\n    return this;\n  }\n\n  public addElement(element:HTMLElement):UIToolbar {\n    let spacer = createButtonSpacer();\n    insertElement(this.mainElement, spacer);\n    this.addElementNoSpace(element);\n    return this;\n  }\n\n  public addRightElement(element:HTMLElement):UIToolbar {\n    let spacer = createButtonSpacer();\n    insertElement(this.mainElement, spacer);\n    insertElement(this.floatRightButtons, element);\n    return this;\n  }\n\n  public addButton(button:UIToolbarButton):UIToolbar {\n    let btn = this.createButton(button);\n    if (button.withSpace){\n      this.addElement(btn);\n    } else {\n      this.addElementNoSpace(btn);\n    }\n    return this;\n  }\n\n  public addRightButton(button:UIToolbarButton):UIToolbar {\n    let btn = this.createButton(button);\n    this.addRightElement(btn);\n    return this;\n  }\n\n  protected createButton(button:UIToolbarButton):HTMLElement{\n    if (button.isToggle){\n      return this.createToggleButton(button);\n    }\n\n    let elements = new Array();\n\n    if (button.icon){\n      elements.push(createIcon(button.icon));\n    }\n    if (button.caption){\n      elements.push(createText(button.caption));\n    }\n\n    let options = {}\n\n    if (button.className){\n      options[\"className\"] = button.className;\n    }\n\n    if (button.title){\n      options[\"tooltip\"] = {\n        subscriptions: this.subscriptions,\n        title: button.title\n      }\n    }\n\n    if (button.handler){\n        options[\"click\"] = button.handler\n    }\n\n    return createButton(options, [elements]);\n\n  }\n\n  //<label class='input-label'>   <input class='input-toggle' type='checkbox' checked> Toggle</label>\n  protected createToggleButton(button:UIToolbarButton):HTMLElement{\n    let innerElements = new Array();\n\n    let options = {}\n\n    if (button.title){\n      options[\"tooltip\"] = {\n        subscriptions: this.subscriptions,\n        title: button.title\n      }\n    }\n    if (button.handler){\n        options[\"click\"] = button.handler\n    }\n\n    let inputToggleEl = createElement('input',{\n      className : 'input-toggle',\n      tooltip: {\n        subscriptions: this.subscriptions,\n        title: button.title\n      }\n    })\n    inputToggleEl.type = 'checkbox'\n    if (button.checked){\n      inputToggleEl.setAttribute('checked','')\n    }\n    innerElements.push(inputToggleEl)\n\n    if (button.caption){\n      innerElements.push(createText(button.caption));\n    }\n\n    let className = 'input-label';\n    if (button.className){\n      className += ' ' + button.className;\n    }\n\n    return createElement('label', {\n      className: className,\n      elements: innerElements || options,\n      options\n    });\n\n  }\n\n\n}\n"]}