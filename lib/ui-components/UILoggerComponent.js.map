{"version":3,"file":"UILoggerComponent.js","sourceRoot":"","sources":["../../src/ui-components/UILoggerComponent.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n import {\n   createText,\n   createElement,\n   insertElement,\n   createGroupButtons,\n   createButton,\n   createIcon,\n   createIconFromPath,\n   attachEventFromObject,\n   createTextEditor\n } from '../element/index';\n\nimport { UIComponent, UIBaseComponent } from './UIComponent'\nimport { UIToolbar, UIToolbarButton } from './UIToolbar'\nimport { UIListViewModel } from 'UIListView'\nimport * as _ from 'lodash'\nimport {LogLevel} from '../logger/Logger'\nimport {UISelect, UISelectItem, UISelectListener} from './UISelect';\nimport {EventEmitter} from 'events'\nconst moment = require('moment')\nconst Tail = require('tail').Tail;\nconst {\n    allowUnsafeEval,\n    allowUnsafeNewFunction\n} = require('loophole');\n\nconst lineReader = require('reverse-line-reader');\nconst ResizeObserver = require('resize-observer-polyfill');\nconst Terminal = require('xterm');\nTerminal.loadAddon('fit');\n\nexport interface LogLine{\n  logLevel:LogLevel\n  message:string\n  timestamp:string\n}\nexport interface LogModelListener{\n  rowAppended(newLine:LogLine):void\n  rowDropped(logLine:LogLine,index?:number):void\n  rowsChanged():void\n}\n\nexport interface LogModel {\n  appendLogLine(logLine:LogLine):void\n  getRowAt(index:number): LogLine\n  getRowCount():number\n  addListener(listener:LogModelListener):void\n  removeListener(listener:LogModelListener):void\n  clear():void\n}\n\nexport class BaseLogModel implements LogModel{\n  private listeners:Array<LogModelListener> = [];\n  private logLines:Array<LogLine> = [];\n  private maxLineCount:number = 500;\n  public constructor (maxLineCount?:number){\n    if(maxLineCount){\n      this.maxLineCount = maxLineCount;\n    }\n  }\n  appendLogLine(logLine:LogLine):void {\n    this.logLines.push(logLine);\n    if(this.logLines.length > this.maxLineCount){\n      let logLine = this.logLines[0];\n      this.logLines = _.drop(this.logLines);\n      this.fireRowDrop(logLine);\n    }\n    this.fireRowAdd(logLine);\n  }\n  getRowCount():number{\n    return this.logLines.length;\n  }\n  getRowAt(index:number){\n    return this.logLines[index];\n  }\n  addListener(listener:LogModelListener){\n    this.listeners.push(listener);\n  }\n  removeListener(listener:LogModelListener):void{\n    _.remove(this.listeners,function(single){\n      return single == listener;\n    });\n  }\n  clear():void{\n    this.logLines = [];\n    this.fireRowChanges();\n  }\n  fireRowAdd(logLine:LogLine){\n    _.forEach(this.listeners,function(list){\n      list.rowAppended(logLine)\n    });\n  }\n  fireRowDrop(logLine:LogLine,index?:number){\n    _.forEach(this.listeners,function(list){\n      list.rowDropped(logLine,index || 0);\n    });\n  }\n  fireRowChanges(){\n    _.forEach(this.listeners,function(list){\n      list.rowsChanged();\n    });\n  }\n}\n\nexport interface Filter<T>{\n  evaluateFilter(value:T):boolean\n}\n\nexport interface IFilterableModel{\n  addFilter(filter: Filter<LogLine>)\n  removeFilter(filter: Filter<LogLine>)\n  clearAllFilters()\n  evaluateAllFilters()\n}\n\nexport class FilterableLogModel extends BaseLogModel implements IFilterableModel,LogModelListener  {\n  private model:LogModel;\n  private _listeners:Array<LogModelListener> = [];\n  private _logLines:Array<LogLine> = [];\n  private _filters:Array<Filter<LogLine>>=[]\n  private _filteredList:Array<LogLine>=[]\n  constructor(model:LogModel){\n    super();\n    this.model=model;\n    this.model.addListener(this);\n  }\n  appendLogLine(logLine:LogLine):void {\n    this.model.appendLogLine(logLine);\n  }\n\n  getRowCount():number{\n    if(this._filters.length>0){\n      return this._filteredList.length;\n    }\n    return this.model.getRowCount();\n  }\n\n  getRowAt(index:number){\n    if(this._filters.length>0){\n      return this._filteredList[index];\n    }\n    return this.model.getRowAt(index);\n  }\n\n  addListener(listener:LogModelListener){\n    this._listeners.push(listener);\n  }\n\n  removeListener(listener:LogModelListener):void{\n    _.remove(this._listeners,function(single){\n      return single == listener;\n    });\n  }\n\n  rowAppended(logLine:LogLine){\n    let newValue = this.applyFilterChain([logLine]);\n    if(newValue.length>0){\n      this._filteredList.push(newValue[0]);\n      _.forEach(this._listeners,function(single){\n        single.rowAppended(logLine);\n      });\n    }\n    // ELSE do nothing!!!!\n  }\n\n  rowDropped(line:LogLine){\n    let update:boolean = this.applyFilterChain([line]).length > 0;\n    if(update){\n      this._filteredList = _.drop(this._filteredList);\n      _.forEach(this._listeners,function(single){\n        single.rowDropped(line);\n      });\n    }\n  }\n\n  clear(){\n    this.model.clear();\n  }\n\n  rowsChanged(){\n    this.evaluateAllFilters();\n  }\n\n  addFilter(filter: Filter<LogLine>){\n    this._filters.push(filter);\n    this.evaluateAllFilters();\n  }\n  removeFilter(filter: Filter<LogLine>){\n    _.remove(this._filters,function(single){\n      return single == filter;\n    });\n  }\n  clearAllFilters(){\n    this._filters = [];\n  }\n  evaluateAllFilters(){\n    this._filteredList=this.applyFilterChain(this.getOrigialValues());\n    _.forEach(this._listeners,function(single){\n      single.rowsChanged();\n    });\n  }\n\n  private getOrigialValues():Array<LogLine>{\n    let values=[];\n    let count = this.model.getRowCount();\n    for(let i=0; i< count; i++){\n      values.push(this.model.getRowAt(i))\n    }\n    return values;\n  }\n\n  private applyFilterChain(currentValues:Array<LogLine>):Array<LogLine>{\n    if(this._filters.length == 0){\n      return currentValues;\n    }\n    for(let filter of this._filters){\n      currentValues = _.filter(currentValues,filter.evaluateFilter.bind(filter));\n    }\n    return currentValues;\n  }\n}\n\nconst LOG_LEVEL_CONVERSION_MAP = {\n  'trace':LogLevel.TRACE,\n  'debug':LogLevel.DEBUG,\n  'info':LogLevel.INFO,\n  'warn':LogLevel.WARN,\n  'error':LogLevel.ERROR\n};\n\nexport class FileTailLogModel extends BaseLogModel {\n\n  private filePath:string;\n  private events:EventEmitter\n  private tail\n  constructor(filePath:string,lastLine?:number){\n    super();\n    this.events= new EventEmitter();\n    this.filePath = filePath;\n    if(lastLine>0){\n      var count=0;\n      var lastLines:Array<LogLine>=[];\n      lineReader.eachLine(this.filePath, (line, last) => {\n        console.log(line);\n        try{\n          lastLines.unshift(this.createLogLine(JSON.parse(line)));\n        }catch(err){\n        }\n        count++;\n        if (count >= lastLine) {\n          _.forEach(lastLines,(line:LogLine) => {\n            this.appendLogLine(line);\n          });\n          this.attachTailToFile();\n          return false; // stop reading\n        }\n      });\n    }else{\n      this.attachTailToFile();\n    }\n\n  }\n\n  private createAndAddLogLine(data){\n    console.log('createAndAddLogLine');\n    let msg= data[\"0\"];\n    let logLevelStr = data[\"level\"];\n    let timestamp = data[\"timestamp\"];\n    this.appendLogLine({\n      logLevel: this.convertToLogLevel(logLevelStr),\n      message: msg,\n      timestamp: timestamp\n    });\n  }\n\n  private createLogLine(data):LogLine{\n    let msg= data[\"0\"];\n    let logLevelStr = data[\"level\"];\n    let timestamp = data[\"timestamp\"];\n    return {\n      logLevel: this.convertToLogLevel(logLevelStr),\n      message: msg,\n      timestamp: timestamp\n    }\n  }\n\n  private convertToLogLevel(logLevelStr:string):LogLevel{\n    return LOG_LEVEL_CONVERSION_MAP[logLevelStr] || LogLevel.TRACE;\n  }\n\n  private attachTailToFile(){\n    this.tail = new Tail(this.filePath);\n    this.tail.on(\"line\", (data) => {\n      this.createAndAddLogLine(JSON.parse(data));\n    });\n\n    this.tail.on(\"error\", (error) => {\n      console.log(\"LOG_TAIL_ERROR:\",error);\n      this.events.emit('didLogTailError',error);\n    });\n  }\n\n  destroy(){\n    this.tail.unwatch();\n    this.tail = null;\n  }\n}\n\n\n\n/***************************************************************\n   View (UI) section\n\n ***************************************************************/\n\nexport class UILogView extends UIBaseComponent implements LogModelListener {\n  private model:LogModel;\n  private autoscroll:boolean = true;\n  private terminal:any\n  constructor(model?:LogModel){\n    super();\n    this.model=model != null? model:new BaseLogModel();\n    this.model.addListener(this);\n    this.initUI();\n  }\n  private initUI(){\n    this.mainElement = createElement('de-workbench-terminal-view',{\n      className: \"de-workbench-uilogger-loglines\"\n    });\n\n    let resizeObserver = new ResizeObserver(() => this.outputResized());\n    resizeObserver.observe(this.mainElement);\n\n    atom.commands.add('de-workbench-terminal-view', {\n          'de-workbench-terminal:copy': () => this.copyToClipboard()\n    });\n\n    this.terminal = new Terminal({\n        scrollback:500,\n        useStyle: false,\n        cursorBlink: false\n      });\n    this.terminal.open(this.mainElement)\n    this.terminal.fit();\n\n  }\n\n  copyToClipboard(){\n    console.log(\"copy!!!!!!!!\");\n    return atom.clipboard.write(this.terminal.getSelection());\n  }\n  \n  protected outputResized(){\n    return this.terminal.fit();\n  }\n\n  isAutoscroll():boolean{\n    return this.autoscroll;\n  }\n\n  setAutoscroll(value:boolean){\n    this.autoscroll=value;\n  }\n\n  private appendNewNode(newLine:LogLine){\n    /*let cssClass= this.getClassByLevel(newLine.logLevel);\n    let element:HTMLElement = this.createLogLineElement(newLine,cssClass);\n    this.element().appendChild(element);\n    this.updateScroll();*/\n    this.terminal.writeln(`${newLine.timestamp} - ${newLine.message}`);\n  }\n\n  updateScroll(force?:boolean){\n    if (this.autoscroll || force){\n      //this.mainElement.scrollTop = this.mainElement.scrollHeight;\n      this.terminal.scrollToBottom();\n    }\n  }\n\n  getClassByLevel(level:LogLevel):string{\n    switch(level){\n      case LogLevel.TRACE:\n        return \"trace\";\n      case LogLevel.DEBUG:\n        return \"debug\";\n      case LogLevel.INFO:\n        return \"info\";\n      case LogLevel.WARN:\n        return \"warn\";\n      case LogLevel.ERROR:\n        return \"error\";\n    }\n    return \"debug\";\n  }\n\n  rowAppended(newLine:LogLine){\n    this.appendNewNode(newLine);\n  }\n\n  rowDropped(line:LogLine){\n    //this.mainElement.removeChild(this.mainElement.firstChild);\n  }\n\n  rowsChanged(){\n    console.log(\"rowsChanged\",\"repeat rendering\");\n    this.render();\n  }\n\n  private render(){\n    this.clearMainElement();\n    const count=this.model.getRowCount();\n    for(let i=0;i< count;i++){\n      this.appendNewNode(this.model.getRowAt(i));\n    }\n  }\n\n  private clearMainElement(){\n    /*if(!this.mainElement){\n      return;\n    }\n    while(this.mainElement.firstChild){\n      this.mainElement.removeChild(this.mainElement.firstChild);\n    }*/\n    this.terminal.clear();\n  }\n\n  private createLogLineElement(logLine:LogLine, className?:string):HTMLElement {\n    let message = logLine.timestamp + ' - ' + logLine.message;\n    return createElement('div',{\n      elements: [\n        createElement('div',{\n          elements : [\n            createText(message)\n          ],\n          className: \"de-workbench-uilogger-logline-message\"\n        })\n      ],\n      className: \"de-workbench-uilogger-logline \" + (className?className:'')\n    })\n  }\n}\n\n\n\nexport class UILoggerComponent extends UIBaseComponent {\n  public readonly autoscroll:boolean = true;\n  private toolbar:UILoggerToolbarComponent;\n  private logView:UILogView;\n  private logModel:FilterableLogModel;\n\n  constructor(showToolbar?:boolean,logModel?:LogModel){\n      super();\n      this.logModel = new FilterableLogModel(logModel || new BaseLogModel());\n      this.logView= new UILogView(this.logModel);\n      this.buildUI(showToolbar || false);\n  }\n\n  public getFilterableModel():FilterableLogModel {\n    return this.logModel;\n  }\n\n  private buildUI(showToolbar){\n    if(showToolbar){\n      this.toolbar = new UILoggerToolbarComponent();\n      this.toolbar.setTarget(this.logModel);\n      this.toolbar.setActionDelegate((action:LoggerToolbarAction) => {\n        switch(action){\n          case \"toggleAutoscroll\":\n            this.setAutoscroll(!this.autoscroll);\n          break;\n          case \"clearLog\":\n            this.logModel.clear();\n          break;\n        }\n      })\n      this.mainElement = createElement('div',{\n        elements: [\n          this.toolbar.element(),\n          this.logView.element()\n        ],\n        className: \"de-workbench-uilogger-container\"\n      })\n    }else{\n      this.mainElement = createElement('div',{\n        elements: [\n          this.logView.element()\n        ],\n        className: \"de-workbench-uilogger-container\"\n      })\n    }\n\n  }\n\n\n  public addLog(message:string, level?:LogLevel, timestamp?:string):UILoggerComponent{\n    //let completeMessage =  UILoggerComponent.getFormattedTimestamp() + \" - \" + message;\n    this.logModel.appendLogLine({\n      message: message,\n      logLevel:level || LogLevel.DEBUG,\n      timestamp:timestamp || UILoggerComponent.getFormattedTimestamp()\n    });\n    return this;\n  }\n\n  private static getFormattedTimestamp():string{\n    return moment().format('MM-DD hh:mm:ss.SSS');\n  }\n\n  public updateScroll():UILoggerComponent{\n    /*if (this.autoscroll){\n      this.mainElement.scrollTop = this.mainElement.scrollHeight;\n    }\n    return this;*/\n    this.logView.updateScroll(true);\n    return this;\n  }\n\n  public setAutoscroll(autoscroll:boolean):UILoggerComponent{\n    this.logView.setAutoscroll(autoscroll);\n    return this;\n  }\n\n}\n\n//<input class='input-search' type='search' placeholder='Search'>\n\nclass TextFilter implements Filter<LogLine>{\n  private value:string = null;\n  private regexp:RegExp =null;\n  setText(value:string){\n    this.value=value;\n    if(value){\n      this.regexp=new RegExp(_.escapeRegExp(value));\n    }else{\n      this.regexp = null;\n    }\n  }\n  evaluateFilter(log:LogLine):boolean{\n    if(this.value == null || this.regexp == null){\n      return true;\n    }\n    return this.regexp.test(log.message || \"\");\n  }\n}\n\nclass LogLevelFilter implements Filter<LogLine> {\n  private level:LogLevel;\n  constructor(initialValue?:LogLevel){\n    this.level=initialValue || LogLevel.TRACE;\n  }\n  getLogLevel():LogLevel {\n    return this.level;\n  }\n  setLogLevel(level:number){\n    this.level=level;\n  }\n  evaluateFilter(log:LogLine):boolean{\n    return log.logLevel > this.level;\n  }\n}\n\ntype ActionDelegate=(type:LoggerToolbarAction) => void\ntype LoggerToolbarAction =\"toggleAutoscroll\"|\"clearLog\";\n\nclass UILoggerToolbarComponent extends UIToolbar implements UISelectListener {\n    private target:IFilterableModel = null;\n    private regexpfilter:TextFilter = new TextFilter();\n    private levelFilter:LogLevelFilter = new LogLevelFilter();\n    private actionDelegate:ActionDelegate = null;\n    constructor(){\n      super();\n      this.setupToolbar();\n    }\n\n    setTarget(target:IFilterableModel){\n      this.target = target;\n      this.target.addFilter(this.regexpfilter);\n      this.target.addFilter(this.levelFilter);\n    }\n\n    setActionDelegate(delegate:ActionDelegate){\n      this.actionDelegate = delegate;\n    }\n\n    private setupToolbar(){\n      this.createAndAddSearchFilter(this)\n      let subToolbar=this.createButtonToolbar();\n      this.addElementNoSpace(subToolbar.element());\n    }\n    createAndAddSearchFilter(container:UIToolbar){\n      let searchTextField = createTextEditor({\n        type:'search',\n        placeholder: 'Filter log',\n        change: (value) => {\n          console.log(\"Value changed: \", value);\n          this.regexpfilter.setText(value);\n          setTimeout(() => {\n            this.target.evaluateAllFilters();\n          });\n        }\n      })\n      searchTextField.classList.add(\"de-workbench-uilogger-search-field\")\n      searchTextField.classList.add(\"inline-block\")\n      container.addElementNoSpace(searchTextField);\n    }\n\n    createAndAddLogLevelSelect(container:UIToolbar){\n      let opts= this.createLoggerFilterOptions();\n      let levelSelect= new UISelect(opts);\n      levelSelect.addSelectListener(this);\n      container.addElementNoSpace(levelSelect.element());\n    }\n\n    createButtonToolbar():UIToolbar{\n      let buttonToolbar:UIToolbar=new UIToolbar();\n      this.createAndAddLogLevelSelect(buttonToolbar);\n      let autoScrollButton:UIToolbarButton = new UIToolbarButton();\n      autoScrollButton.setId(\"autoScroll\");\n      autoScrollButton.setWithSpace(false);\n      autoScrollButton.setIcon(\" icon-move-down\");\n      autoScrollButton.handler=() => {\n        if(this.actionDelegate){\n          this.actionDelegate(\"toggleAutoscroll\");\n        }\n      };\n      buttonToolbar.addButton(autoScrollButton);\n      let clearLog:UIToolbarButton = new UIToolbarButton();\n      clearLog.setId(\"clearLog\");\n      clearLog.setIcon(\" icon-trashcan\");\n      clearLog.setWithSpace(false);\n      clearLog.handler=() => {\n        if(this.actionDelegate){\n          this.actionDelegate(\"clearLog\");\n        }\n      };\n      buttonToolbar.addButton(clearLog);\n      return buttonToolbar;\n    }\n\n    onItemSelected(value:string){\n      this.levelFilter.setLogLevel(parseInt(value));\n      setTimeout(() => {\n        this.target.evaluateAllFilters();\n      });\n    }\n\n    private createLoggerFilterOptions():Array<UISelectItem>{\n      return [\n        {name:'verbose',value:LogLevel.TRACE.toString()},\n        {name:'debug',value:LogLevel.DEBUG.toString()},\n        {name:'info',value:LogLevel.INFO.toString()},\n        {name:'warn',value:LogLevel.WARN.toString()},\n        {name:'error',value:LogLevel.ERROR.toString()},\n      ];\n    }\n\n}\n"]}