{"version":3,"file":"UIStatusIndicatorComponent.js","sourceRoot":"","sources":["../../src/ui-components/UIStatusIndicatorComponent.ts"],"names":[],"mappings":"AAAA,WAAW,CAAA;AACX,OAAO,EACL,UAAU,EACV,aAAa,EACb,aAAa,EACb,UAAU,EACX,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAe,eAAe,EAAE,MAAM,eAAe,CAAA;AAG5D,MAAM,CAAN,IAAY,iBAKX;AALD,WAAY,iBAAiB;IAC3B,yDAAI,CAAA;IACJ,yDAAI,CAAA;IACJ,+DAAO,CAAA;IACP,2DAAK,CAAA;AACP,CAAC,EALW,iBAAiB,KAAjB,iBAAiB,QAK5B;AAED,MAAM,iCAAkC,SAAQ,eAAe;IAI7D,YAAY,UAAkB;QAC5B,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAE,iBAAiB,CAAC,IAAI,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IAC1B,CAAC;IACO,MAAM,CAAC,UAAiB;QAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;QACnC,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IACO,oBAAoB;QAC1B,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,KAAK,EAAE;YACzC,SAAS,EAAE,gBAAgB;SAC5B,CAAC,CAAC;IACL,CAAC;IACO,iBAAiB,CAAC,GAAU;QAClC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC,MAAM,EAAE;YACvC,SAAS,EAAE,aAAa;SACzB,CAAC,CAAC;QACH,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;IACrC,CAAC;IAEO,wBAAwB,CAAC,GAAU,EAAC,QAAgB;QAC1D,IAAI,QAAQ,GAAE,EAAE,CAAC;QACjB,EAAE,CAAA,CAAC,QAAQ,CAAC,CAAA,CAAC;YACX,QAAQ,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;QACrC,CAAC;QACD,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;QAChC,aAAa,CAAC,IAAI,CAAC,WAAW,EAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC,KAAK,EAAC;YACrC,SAAS,EAAC,+BAA+B;YACzC,QAAQ,EAAC;gBACP,IAAI,CAAC,cAAc;gBACnB,IAAI,CAAC,WAAW;aACjB;SACF,CAAC,CAAC;IACL,CAAC;IACO,oBAAoB,CAAC,QAA0B,EAAC,QAA0B,EAAC,OAAc,EAAC,QAAe;QAC/G,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,iBAAiB,CAAC,IAAI,CAAC,CAAC;QACtD,EAAE,CAAA,CAAC,OAAO,CAAC,CAAA,CAAC;YACV,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAEO,YAAY,CAAC,KAAa;QAChC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAA;IACnE,CAAC;IAEM,SAAS,CAAC,MAAwB,EAAE,OAAe,EAAC,QAAgB;QACzE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAC,MAAM,EAAC,OAAO,EAAC,QAAQ,CAAC,CAAC;IACjE,CAAC;IAEM,OAAO,CAAC,OAAc,EAAC,QAAgB;QAC5C,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAC,QAAQ,CAAC,CAAC;IAClD,CAAC;CACF","sourcesContent":["'use babel'\nimport {\n  createText,\n  createElement,\n  insertElement,\n  createIcon\n} from '../element/index';\nimport { UIComponent, UIBaseComponent } from './UIComponent'\n\n\nexport enum UIIndicatorStatus {\n  Idle,\n  Busy,\n  Success,\n  Error\n}\n\nexport class UIStatusIndicatorComponent extends UIBaseComponent{\n  private status:UIIndicatorStatus;\n  private textElement:HTMLElement;\n  private loadingElement:HTMLElement;\n  constructor(initialMsg?:string){\n    super();\n    this.status= UIIndicatorStatus.Idle;\n    this.initUI(initialMsg);\n  }\n  private initUI(initialMsg:string){\n    this.createLoadingElement();\n    this.createTextElement(initialMsg);\n    this.createMainElement();\n  }\n  private createLoadingElement(){\n    this.loadingElement = createElement('div', {\n      className: 'status-loading'\n    });\n  }\n  private createTextElement(msg:string){\n    this.textElement = createElement('span', {\n      className: 'status-text'\n    });\n    this.updateTextElementContent(msg);\n  }\n\n  private updateTextElementContent(msg:string,iconName?:string){\n    let elements =[];\n    if(iconName){\n      elements[0] = createIcon(iconName);\n    }\n    elements[elements.length] = createText(msg || \"\");\n    this.textElement.innerHTML = '';\n    insertElement(this.textElement,elements);\n  }\n\n  private createMainElement(){\n    this.mainElement = createElement('div',{\n      className:'de-workbench-status-container',\n      elements:[\n        this.loadingElement,\n        this.textElement\n      ]\n    });\n  }\n  private updateInternalStatus(oldValue:UIIndicatorStatus,newValue:UIIndicatorStatus,message:string,iconName:string){\n    this.status = newValue;\n    this.setOnLoading(newValue == UIIndicatorStatus.Busy);\n    if(message){\n      this.updateTextElementContent(message,iconName);\n    }\n  }\n\n  private setOnLoading(value:boolean){\n    this.loadingElement.classList[value ? 'add' : 'remove']('active')\n  }\n\n  public setStatus(status:UIIndicatorStatus, message?:string,iconName?:string){\n    this.updateInternalStatus(this.status,status,message,iconName);\n  }\n\n  public setText(message:string,iconName?:string){\n    this.updateTextElementContent(message,iconName);\n  }\n}\n"]}